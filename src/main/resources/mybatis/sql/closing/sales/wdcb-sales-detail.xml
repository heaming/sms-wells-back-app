<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kyowon.sms.wells.web.closing.sales.mapper.WdcbSalesDetailMapper">
    <select id="selectSalesDetailRental" resultType="com.kyowon.sms.wells.web.closing.sales.dto.WdcbSalesDetailDto$SearchRentalRes">
        SELECT T1.RENTAL_RGST_COST
             , T1.RENTAL_AMT
             , 0 AS COL1
             , T1.REQD_DTM
             , 0 AS COL2
             , T1.RENTAL_DSC_AMT
             , 0 AS COL3
             , 0 AS COL4
             , T1.ISTM_AMT
             , T1.RENTAL_PTRM
             , '' AS COL5
             , '' AS COL6
             , T1.RENTAL_AMT2
             , '' AS COL7
             , '' AS COL8
             , T1.RENTAL_DSC_AMT2
             , '' AS COL9
             , '' AS COL10
             , T1.RENTAL_PTRM2
             , T1.SL_DT
          FROM TB_CBCL_WELLS_SL_MM_CL_IZ T1
         WHERE 1=1
           AND T1.CNTR_NO || T1.CNTR_SN = #{cntrDtlNo}
    </select>
    
    <select id="selectSalesDetailMembership" resultType="com.kyowon.sms.wells.web.closing.sales.dto.WdcbSalesDetailDto$SearchMembershipRes">
        SELECT T1.SELL_AMT
             , '' AS COL1
             , '' AS COL2
             , 0 AS COL3
             , T1.ISTM_MCN
             , T1.DSC_AMT
             , '' AS COL4
             , 0 AS COL5
             , '' AS COL6
             , 0 AS COL7
          FROM TB_CBCL_WELLS_SL_MM_CL_IZ T1
         WHERE 1=1
           AND T1.CNTR_NO || T1.CNTR_SN = #{cntrDtlNo}
    </select>
    
    <select id="selectSalesDetailSinglePayment" resultType="com.kyowon.sms.wells.web.closing.sales.dto.WdcbSalesDetailDto$SearchSingleRes">
        SELECT T2.FRISU_YN
             , T1.SELL_AMT
             , T1.TK_AMT
             , T1.ISTM_MCN
             , 0 AS COL1
             , T1.CNTR_TAM
             , T1.ISTM_AMT
             , 0 AS COL2
             , T1.SUBSC_AMT
             , T1.MM_ISTM_AMT
          FROM TB_CBCL_WELLS_SL_MM_CL_IZ T1
         INNER JOIN TB_CBCL_SL_CNFM_BAS T2
            ON T1.CNTR_NO = T2.CNTR_NO
           AND T1.CNTR_SN = T2.CNTR_SN
         WHERE 1=1
           AND T1.CNTR_NO || T1.CNTR_SN = #{cntrDtlNo}
    </select>

</mapper>
