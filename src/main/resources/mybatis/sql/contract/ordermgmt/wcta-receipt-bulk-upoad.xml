<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kyowon.sms.wells.web.contract.ordermgmt.mapper.WctaReceiptBulkUploadMapper">

    <select id="isExistProduct" resultType="java.lang.Boolean">
        SELECT COUNT(1)
          FROM TB_PDBS_PD_BAS T_PD_BAS
        WHERE T_PD_BAS.DTA_DL_YN = 'N'
          AND T_PD_BAS.PD_TP_CD = 'P' /* 기준상품 */
          AND T_PD_BAS.SELL_YN = 'Y'
          AND TO_CHAR(SYSDATE, 'YYYYMMDD') BETWEEN T_PD_BAS.SELL_STRTDT AND T_PD_BAS.SELL_ENDDT
          AND T_PD_BAS.PD_CD = #{pdCd}
    </select>

    <select id="isExistServiceProduct" resultType="java.lang.Boolean">
        SELECT COUNT(1)
          FROM TB_PDBS_PD_BAS T_PD_BAS
         WHERE T_PD_BAS.DTA_DL_YN = 'N'
           AND T_PD_BAS.PD_TP_CD = 'S' /* 기준상품 */
           AND T_PD_BAS.PD_CD = #{pdCd}
    </select>

    <select id="selectPdBasByPk"
            resultType="com.kyowon.sms.wells.web.contract.ordermgmt.dvo.WctaPdBasDvo">
        SELECT PD_CD /*상품코드*/
             , PD_TP_CD /*상품유형코드*/
             , PD_TP_DTL_CD /*상품유형상세코드*/
             , BZ_HDQ_DV_CD /*사업본부구분코드*/
             , PD_CLSF_ID /*상품분류ID*/
             , PD_HCLSF_ID /*상품대분류ID*/
             , PD_MCLSF_ID /*상품중분류ID*/
             , PD_LCLSF_ID /*상품소분류ID*/
             , PD_DCLSF_ID /*상품세분류ID*/
             , PD_NM /*상품명*/
             , PD_ABBR_NM /*상품약어명*/
             , CST_BASE_PD_ABBR_NM /*고객기준상품약어명*/
             , PD_MNUL_ID /*상품설명서ID*/
             , PD_EPL_CN /*상품설명내용*/
             , PD_PRV_ID /*상품약관ID*/
             , PMOT_PD_YN /*프로모션상품여부*/
             , ALNC_PD_YN /*제휴상품여부*/
             , SELL_YN /*판매여부*/
             , SELL_STRTDT /*판매시작일자*/
             , SELL_ENDDT /*판매종료일자*/
             , SV_STRTDT /*서비스시작일자*/
             , SV_ENDDT /*서비스종료일자*/
             , OSTR_CNR_CD /*출고센터코드*/
             , RVPY_STRTDT /*수불시작일자*/
             , RVPY_ENDDT /*수불종료일자*/
             , MNDT_SV_YN /*필수서비스여부*/
             , SAP_MAT_GRP_VAL /*SAP자재그룹값*/
             , SAP_PDCT_SCLSRT_STRC_VAL /*SAP제품계층구조값*/
             , SAP_MAT_EVL_CLSS_VAL /*SAP자재평가클래스값*/
             , SAP_MAT_CD /*SAP자재코드*/
             , MODEL_NO /*모델번호*/
             , IMG_APN_FILE_ID /*이미지첨부파일ID*/
             , MPAC_YN /*합포장여부*/
             , STOC_MNGT_OJ_YN /*재고관리대상여부*/
             , BASE_PD_CHO_YN /*기준상품선택여부*/
             , SPAY_SELL_PSB_YN /*일시불판매가능여부*/
             , STEP_MNGT_YN /*스텝관리여부*/
             , VAT_TP_CD /*부가가치세유형코드*/
             , PDCT_UPRC_USE_YN /*제품단가사용여부*/
             , RDS_YN /*RDS여부*/
             , REDF_YN /*되물림여부*/
             , PVDA_YN /*현재가치할인차금여부*/
             , HD_CNDT_CD /*보류조건코드*/
             , PRC_TP_CD /*가격유형코드*/
             , CRNCY_DV_CD /*통화구분코드*/
             , PYMNT_TP_CD /*지불유형코드*/
             , CNTR_CLSF_CD /*계약분류코드*/
             , DSC_TP_CD /*할인유형코드*/
             , FEE_AMT /*수수료금액*/
             , ACKMT_CT /*인정건수*/
             , ACKMT_PERF_RT /*인정실적율*/
             , TEMP_SAVE_YN /*임시저장여부*/
             , SELL_PD_DV_CD /*판매상품구분코드*/
             , HGR_PD_CD /*상위상품코드*/
             , SELL_TP_DTL_CD /*판매유형상세코드*/
             , PDCT_UPRC /*제품단가*/
             , SL_RCOG_CLSF_CD /*매출인식분류코드*/
             , SAP_PLNT_CD /*SAP플랜트코드*/
             , FGPT_YN /*사은품여부*/
             , SV_PD_TP_CD /*서비스상품유형코드*/
             , SELL_TP_CD /*판매유형코드*/
             , PD_EPL_URL_ADR /*상품설명URL주소*/
             , SAP_MAT_TP_VAL /*SAP자재유형값*/
          FROM TB_PDBS_PD_BAS T_PD_BAS
         WHERE T_PD_BAS.DTA_DL_YN = 'N'
           AND T_PD_BAS.PD_TP_CD = 'P' /* 기준상품 */
           AND T_PD_BAS.SELL_YN = 'Y'
           AND TO_CHAR(SYSDATE, 'YYYYMMDD') BETWEEN T_PD_BAS.SELL_STRTDT AND T_PD_BAS.SELL_ENDDT
           AND T_PD_BAS.PD_CD = #{pdCd}
    </select>

    <sql id="selectKeyForPspcCstBas">
        SELECT '0000' || LPAD(MAX(NVL(SUBSTR(PSPC_CST_ID, 5), 0)) + 1, 11, 0) FROM TB_SSOP_PSPC_CST_BAS
    </sql>

    <select id="selectPspcCstIdForNewPspcCstBas" resultType="java.lang.String">
        <include refid="selectKeyForPspcCstBas"/>
    </select>

    <select id="selectPspcCstBasByPk"
            resultType="com.kyowon.sms.wells.web.contract.ordermgmt.dvo.WctaPspcCstBasDvo">
        SELECT T_PSPC_CST_BAS.PSPC_CST_ID
             , T_PSPC_CST_BAS.PSPC_CST_INFLW_DT
             , T_PSPC_CST_BAS.PSPC_CST_KNM
             , T_PSPC_CST_BAS.PSPC_CST_ENM
             , T_PSPC_CST_BAS.COPN_DV_CD
             , T_PSPC_CST_BAS.CRP_SPMT_DRM_NM
             , T_PSPC_CST_BAS.CST_NO
             , T_PSPC_CST_BAS.IDK_KND_CD
             , T_PSPC_CST_BAS.IDK_VAL
             , T_PSPC_CST_BAS.IDK_IS_DTM
             , T_PSPC_CST_BAS.NAT_CD
             , T_PSPC_CST_BAS.ADR_ID
             , T_PSPC_CST_BAS.SEX_DV_CD
             , T_PSPC_CST_BAS.BRYY_MMDD
             , T_PSPC_CST_BAS.CRAL_LOCARA_TNO
             , T_PSPC_CST_BAS.MEXNO_ENCR
             , T_PSPC_CST_BAS.CRAL_IDV_TNO
             , T_PSPC_CST_BAS.LOCARA_TNO
             , T_PSPC_CST_BAS.EXNO_ENCR
             , T_PSPC_CST_BAS.IDV_TNO
             , T_PSPC_CST_BAS.EMADR
             , T_PSPC_CST_BAS.NW_INFLW_CST_YN
             , T_PSPC_CST_BAS.APLC_DVC_DV_CD
             , T_PSPC_CST_BAS.PSPC_CST_INFLW_PH_CD
             , T_PSPC_CST_BAS.PSPC_CST_FTF_YN
             , T_PSPC_CST_BAS.MGNT_TP_CD
             , T_PSPC_CST_BAS.PSPC_CST_RCP_CN
             , T_PSPC_CST_BAS.EVN_NM
             , T_PSPC_CST_BAS.RCMDR_PRTNR_NO
             , T_PSPC_CST_BAS.OG_ASN_STAT_CD
             , T_PSPC_CST_BAS.ICHR_PRTNR_NO
             , T_PSPC_CST_BAS.PRTNR_MO_CN
             , T_PSPC_CST_BAS.OTSD_LK_DRM_VAL
             , T_PSPC_CST_BAS.PSPC_CST_DSTC_BASE_DTM
             , T_PSPC_CST_BAS.MVS_DSTC_RCVRY_DV_CD
             , T_PSPC_CST_BAS.MVS_DSTC_RCVRY_DTM
             , T_PSPC_CST_BAS.DTA_DL_YN
             , T_PSPC_CST_BAS.FST_RGST_DTM
             , T_PSPC_CST_BAS.FST_RGST_USR_ID
             , T_PSPC_CST_BAS.FST_RGST_PRG_ID
             , T_PSPC_CST_BAS.FST_RGST_DEPT_ID
             , T_PSPC_CST_BAS.FNL_MDFC_DTM
             , T_PSPC_CST_BAS.FNL_MDFC_USR_ID
             , T_PSPC_CST_BAS.FNL_MDFC_PRG_ID
             , T_PSPC_CST_BAS.FNL_MDFC_DEPT_ID
             , T_PSPC_CST_BAS.PSPC_CST_TP_CD
             , T_PSPC_CST_BAS.BZRNO
             , T_PSPC_CST_BAS.CTPV_NM
             , T_PSPC_CST_BAS.REASN_CT
             , T_PSPC_CST_BAS.PR_PRTNR_NW_INFLW_CST_YN
             , T_PSPC_CST_BAS.PR_PRTNR_ASN_DTM
             , T_PSPC_CST_BAS.OTSD_CHNL_SPMT_YN
             , T_PSPC_CST_BAS.FRE_DGNS_TP_CD
             , T_PSPC_CST_BAS.HGR_FRE_DGNS_TP_CD
             , T_PSPC_CST_BAS.ICHR_OG_TP_CD
             , T_PSPC_CST_BAS.PTL_CST_DB_DV_CD
             , T_PSPC_CST_BAS.PSPC_CST_DIV_DV_CD
             , T_PSPC_CST_BAS.OTSD_LK_OG_TP_CD
             , T_PSPC_CST_BAS.OTSD_LK_PRTNR_NO
          FROM TB_SSOP_PSPC_CST_BAS T_PSPC_CST_BAS
         WHERE T_PSPC_CST_BAS.DTA_DL_YN = 'N'
           AND T_PSPC_CST_BAS.PSPC_CST_ID = #{pspcCstId}
    </select>

    <insert id="insertPspcCstBas">
        INSERT INTO TB_SSOP_PSPC_CST_BAS ( PSPC_CST_ID /*가망고객ID*/
                                         <if test="@MybatisUtils@isNotEmpty(pspcCstInflwDt)"><trim>
                                             , PSPC_CST_INFLW_DT /*가망고객유입일자*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(pspcCstKnm)"><trim>
                                             , PSPC_CST_KNM /*가망고객한글명*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(pspcCstEnm)"><trim>
                                             , PSPC_CST_ENM /*가망고객영문명*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(copnDvCd)"><trim>
                                             , COPN_DV_CD /*법인격구분코드*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(crpSpmtDrmNm)"><trim>
                                             , CRP_SPMT_DRM_NM /*법인추가식별명*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(cstNo)"><trim>
                                             , CST_NO /*고객번호*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(idkKndCd)"><trim>
                                             , IDK_KND_CD /*식별키종류코드*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(idkVal)"><trim>
                                             , IDK_VAL /*식별키값*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(idkIsDtm)"><trim>
                                             , IDK_IS_DTM /*식별키발급일시*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(natCd)"><trim>
                                             , NAT_CD /*국가코드*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(adrId)"><trim>
                                             , ADR_ID /*주소ID*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(sexDvCd)"><trim>
                                             , SEX_DV_CD /*성별구분코드*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(bryyMmdd)"><trim>
                                             , BRYY_MMDD /*생년월일*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(cralLocaraTno)"><trim>
                                             , CRAL_LOCARA_TNO /*휴대지역전화번호*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(mexnoEncr)"><trim>
                                             , MEXNO_ENCR /*휴대전화국번호암호화*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(cralIdvTno)"><trim>
                                             , CRAL_IDV_TNO /*휴대개별전화번호*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(locaraTno)"><trim>
                                             , LOCARA_TNO /*지역전화번호*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(exnoEncr)"><trim>
                                             , EXNO_ENCR /*전화국번호암호화*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(idvTno)"><trim>
                                             , IDV_TNO /*개별전화번호*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(emadr)"><trim>
                                             , EMADR /*이메일주소*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(nwInflwCstYn)"><trim>
                                             , NW_INFLW_CST_YN /*신규유입고객여부*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(aplcDvcDvCd)"><trim>
                                             , APLC_DVC_DV_CD /*신청디바이스구분코드*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(pspcCstInflwPhCd)"><trim>
                                             , PSPC_CST_INFLW_PH_CD /*가망고객유입경로코드*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(pspcCstFtfYn)"><trim>
                                             , PSPC_CST_FTF_YN /*가망고객대면여부*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(mgntTpCd)"><trim>
                                             , MGNT_TP_CD /*중요도유형코드*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(pspcCstRcpCn)"><trim>
                                             , PSPC_CST_RCP_CN /*가망고객접수내용*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(evnNm)"><trim>
                                             , EVN_NM /*이벤트명*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(rcmdrPrtnrNo)"><trim>
                                             , RCMDR_PRTNR_NO /*추천인파트너번호*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(ogAsnStatCd)"><trim>
                                             , OG_ASN_STAT_CD /*조직배정상태코드*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(ichrPrtnrNo)"><trim>
                                             , ICHR_PRTNR_NO /*담당파트너번호*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(prtnrMoCn)"><trim>
                                             , PRTNR_MO_CN /*파트너메모내용*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(otsdLkDrmVal)"><trim>
                                             , OTSD_LK_DRM_VAL /*외부연계식별값*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(pspcCstDstcBaseDtm)"><trim>
                                             , PSPC_CST_DSTC_BASE_DTM /*가망고객파기기준일시*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(mvsDstcRcvryDvCd)"><trim>
                                             , MVS_DSTC_RCVRY_DV_CD /*소산파기복구구분코드*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(mvsDstcRcvryDtm)"><trim>
                                             , MVS_DSTC_RCVRY_DTM /*소산파기복구일시*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(dtaDlYn)"><trim>
                                             , DTA_DL_YN /*데이터삭제여부*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(pspcCstTpCd)"><trim>
                                             , PSPC_CST_TP_CD /*가망고객유형코드*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(bzrno)"><trim>
                                             , BZRNO /*사업자등록번호*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(ctpvNm)"><trim>
                                             , CTPV_NM /*시도명*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(reasnCt)"><trim>
                                             , REASN_CT /*재배정건수*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(prPrtnrNwInflwCstYn)"><trim>
                                             , PR_PRTNR_NW_INFLW_CST_YN /*홍보파트너신규유입고객여부*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(prPrtnrAsnDtm)"><trim>
                                             , PR_PRTNR_ASN_DTM /*홍보파트너배정일시*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(otsdChnlSpmtYn)"><trim>
                                             , OTSD_CHNL_SPMT_YN /*외부채널추가여부*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(freDgnsTpCd)"><trim>
                                             , FRE_DGNS_TP_CD /*무료진단유형코드*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(hgrFreDgnsTpCd)"><trim>
                                             , HGR_FRE_DGNS_TP_CD /*상위무료진단유형코드*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(ichrOgTpCd)"><trim>
                                             , ICHR_OG_TP_CD /*담당조직유형코드*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(ptlCstDbDvCd)"><trim>
                                             , PTL_CST_DB_DV_CD /*잠재고객DB구분코드*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(pspcCstDivDvCd)"><trim>
                                             , PSPC_CST_DIV_DV_CD /*가망고객사업부구분코드*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(otsdLkOgTpCd)"><trim>
                                             , OTSD_LK_OG_TP_CD /*외부연계조직유형코드*/
                                         </trim></if>
                                         <if test="@MybatisUtils@isNotEmpty(otsdLkPrtnrNo)"><trim>
                                             , OTSD_LK_PRTNR_NO /*외부연계파트너번호*/
                                         </trim></if>
        <include refid="COMMON.insertSystemField"/>
        )
        VALUES (
                 <choose>
                     <when test="@MybatisUtils@isNotEmpty(pspcCstId)"><trim>
                         #{pspcCstId} /*가망고객ID*/
                     </trim></when>
                     <otherwise><trim>
                         (<include refid="selectKeyForPspcCstBas"/>)
                     </trim></otherwise>
                 </choose>
               <if test="@MybatisUtils@isNotEmpty(pspcCstInflwDt)"><trim>
                   , #{pspcCstInflwDt} /*가망고객유입일자*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(pspcCstKnm)"><trim>
                   , #{pspcCstKnm} /*가망고객한글명*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(pspcCstEnm)"><trim>
                   , #{pspcCstEnm} /*가망고객영문명*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(copnDvCd)"><trim>
                   , #{copnDvCd} /*법인격구분코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(crpSpmtDrmNm)"><trim>
                   , #{crpSpmtDrmNm} /*법인추가식별명*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(cstNo)"><trim>
                   , #{cstNo} /*고객번호*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(idkKndCd)"><trim>
                   , #{idkKndCd} /*식별키종류코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(idkVal)"><trim>
                   , #{idkVal} /*식별키값*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(idkIsDtm)"><trim>
                   , #{idkIsDtm} /*식별키발급일시*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(natCd)"><trim>
                   , #{natCd} /*국가코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(adrId)"><trim>
                   , #{adrId} /*주소ID*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(sexDvCd)"><trim>
                   , #{sexDvCd} /*성별구분코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(bryyMmdd)"><trim>
                   , #{bryyMmdd} /*생년월일*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(cralLocaraTno)"><trim>
                   , #{cralLocaraTno} /*휴대지역전화번호*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(mexnoEncr)"><trim>
                   , #{mexnoEncr} /*휴대전화국번호암호화*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(cralIdvTno)"><trim>
                   , #{cralIdvTno} /*휴대개별전화번호*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(locaraTno)"><trim>
                   , #{locaraTno} /*지역전화번호*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(exnoEncr)"><trim>
                   , #{exnoEncr} /*전화국번호암호화*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(idvTno)"><trim>
                   , #{idvTno} /*개별전화번호*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(emadr)"><trim>
                   , #{emadr} /*이메일주소*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(nwInflwCstYn)"><trim>
                   , #{nwInflwCstYn} /*신규유입고객여부*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(aplcDvcDvCd)"><trim>
                   , #{aplcDvcDvCd} /*신청디바이스구분코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(pspcCstInflwPhCd)"><trim>
                   , #{pspcCstInflwPhCd} /*가망고객유입경로코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(pspcCstFtfYn)"><trim>
                   , #{pspcCstFtfYn} /*가망고객대면여부*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(mgntTpCd)"><trim>
                   , #{mgntTpCd} /*중요도유형코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(pspcCstRcpCn)"><trim>
                   , #{pspcCstRcpCn} /*가망고객접수내용*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(evnNm)"><trim>
                   , #{evnNm} /*이벤트명*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(rcmdrPrtnrNo)"><trim>
                   , #{rcmdrPrtnrNo} /*추천인파트너번호*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(ogAsnStatCd)"><trim>
                   , #{ogAsnStatCd} /*조직배정상태코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(ichrPrtnrNo)"><trim>
                   , #{ichrPrtnrNo} /*담당파트너번호*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(prtnrMoCn)"><trim>
                   , #{prtnrMoCn} /*파트너메모내용*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(otsdLkDrmVal)"><trim>
                   , #{otsdLkDrmVal} /*외부연계식별값*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(pspcCstDstcBaseDtm)"><trim>
                   , #{pspcCstDstcBaseDtm} /*가망고객파기기준일시*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(mvsDstcRcvryDvCd)"><trim>
                   , #{mvsDstcRcvryDvCd} /*소산파기복구구분코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(mvsDstcRcvryDtm)"><trim>
                   , #{mvsDstcRcvryDtm} /*소산파기복구일시*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(dtaDlYn)"><trim>
                   , #{dtaDlYn} /*데이터삭제여부*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(pspcCstTpCd)"><trim>
                   , #{pspcCstTpCd} /*가망고객유형코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(bzrno)"><trim>
                   , #{bzrno} /*사업자등록번호*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(ctpvNm)"><trim>
                   , #{ctpvNm} /*시도명*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(reasnCt)"><trim>
                   , #{reasnCt} /*재배정건수*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(prPrtnrNwInflwCstYn)"><trim>
                   , #{prPrtnrNwInflwCstYn} /*홍보파트너신규유입고객여부*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(prPrtnrAsnDtm)"><trim>
                   , #{prPrtnrAsnDtm} /*홍보파트너배정일시*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(otsdChnlSpmtYn)"><trim>
                   , #{otsdChnlSpmtYn} /*외부채널추가여부*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(freDgnsTpCd)"><trim>
                   , #{freDgnsTpCd} /*무료진단유형코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(hgrFreDgnsTpCd)"><trim>
                   , #{hgrFreDgnsTpCd} /*상위무료진단유형코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(ichrOgTpCd)"><trim>
                   , #{ichrOgTpCd} /*담당조직유형코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(ptlCstDbDvCd)"><trim>
                   , #{ptlCstDbDvCd} /*잠재고객DB구분코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(pspcCstDivDvCd)"><trim>
                   , #{pspcCstDivDvCd} /*가망고객사업부구분코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(otsdLkOgTpCd)"><trim>
                   , #{otsdLkOgTpCd} /*외부연계조직유형코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(otsdLkPrtnrNo)"><trim>
                   , #{otsdLkPrtnrNo} /*외부연계파트너번호*/
               </trim></if>
        <include refid="COMMON.insertSystemFieldValue"/>
               )
    </insert>

    <sql id="selectKeyForPspcCstCnslBas">
        SELECT '0000' || LPAD(MAX(NVL(SUBSTR(PSPC_CST_CNSL_ID, 5), 0)) + 1, 11, 0) FROM TB_SSOP_PSPC_CST_CNSL_BAS
    </sql>

    <select id="selectPspcCstCnslIdForNewPspcCstCnslBas" resultType="java.lang.String">
        <include refid="selectKeyForPspcCstCnslBas"/>
    </select>

    <insert id="insertPspcCstCnslBas">
        INSERT INTO TB_SSOP_PSPC_CST_CNSL_BAS ( PSPC_CST_CNSL_ID /*가망고객상담ID*/
                                              <if test="@MybatisUtils@isNotEmpty(pspcCstId)"><trim>
                                                  , PSPC_CST_ID /*가망고객ID*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(pspcCstCnslTpCd)"><trim>
                                                  , PSPC_CST_CNSL_TP_CD /*가망고객상담유형코드*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(aplcSn)"><trim>
                                                  , APLC_SN /*신청일련번호*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(cnslPsbStrtDtm)"><trim>
                                                  , CNSL_PSB_STRT_DTM /*상담가능시작일시*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(cnslPsbEndDtm)"><trim>
                                                  , CNSL_PSB_END_DTM /*상담가능종료일시*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(alncmpCd)"><trim>
                                                  , ALNCMP_CD /*제휴사코드*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(inrtPdHclsfId)"><trim>
                                                  , INRT_PD_HCLSF_ID /*관심상품대분류ID*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(inrtPdMclsfId)"><trim>
                                                  , INRT_PD_MCLSF_ID /*관심상품중분류ID*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(inrtPdLclsfId)"><trim>
                                                  , INRT_PD_LCLSF_ID /*관심상품소분류ID*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(inrtPdDclsfId)"><trim>
                                                  , INRT_PD_DCLSF_ID /*관심상품세분류ID*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(inrtPdCd)"><trim>
                                                  , INRT_PD_CD /*관심상품코드*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(pspcCstFtfYn)"><trim>
                                                  , PSPC_CST_FTF_YN /*가망고객대면여부*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(vstAgDtm)"><trim>
                                                  , VST_AG_DTM /*방문동의일시*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(alncCnslCponId)"><trim>
                                                  , ALNC_CNSL_CPON_ID /*제휴상담쿠폰ID*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(cnslCponUseDtm)"><trim>
                                                  , CNSL_CPON_USE_DTM /*상담쿠폰사용일시*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(ichrAsnFshDtm)"><trim>
                                                  , ICHR_ASN_FSH_DTM /*담당배정완료일시*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(ichrPrtnrNo)"><trim>
                                                  , ICHR_PRTNR_NO /*담당파트너번호*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(cnslMoCn)"><trim>
                                                  , CNSL_MO_CN /*상담메모내용*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(cnslEvlDtm)"><trim>
                                                  , CNSL_EVL_DTM /*상담평가일시*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(cnslEvlPc)"><trim>
                                                  , CNSL_EVL_PC /*상담평가점수*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(cnslEvlRlyCn)"><trim>
                                                  , CNSL_EVL_RLY_CN /*상담평가답변내용*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(pspcCstCnslRsCd)"><trim>
                                                  , PSPC_CST_CNSL_RS_CD /*가망고객상담결과코드*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(ichrOgTpCd)"><trim>
                                                  , ICHR_OG_TP_CD /*담당조직유형코드*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(cstNo)"><trim>
                                                  , CST_NO /*고객번호*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(cnslDtm)"><trim>
                                                  , CNSL_DTM /*상담일시*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(sellInflwChnlDvCd)"><trim>
                                                  , SELL_INFLW_CHNL_DV_CD /*판매유입채널구분코드*/
                                              </trim></if>
                                              <if test="@MybatisUtils@isNotEmpty(inrtPdDvCd)"><trim>
                                                  , INRT_PD_DV_CD /*관심상품구분코드*/
                                              </trim></if>
        <include refid="COMMON.insertSystemField"/>
        )
        VALUES ( #{pspcCstCnslId} /*가망고객상담ID*/
               <if test="@MybatisUtils@isNotEmpty(pspcCstId)"><trim>
                   , #{pspcCstId} /*가망고객ID*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(pspcCstCnslTpCd)"><trim>
                   , #{pspcCstCnslTpCd} /*가망고객상담유형코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(aplcSn)"><trim>
                   , #{aplcSn} /*신청일련번호*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(cnslPsbStrtDtm)"><trim>
                   , #{cnslPsbStrtDtm} /*상담가능시작일시*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(cnslPsbEndDtm)"><trim>
                   , #{cnslPsbEndDtm} /*상담가능종료일시*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(alncmpCd)"><trim>
                   , #{alncmpCd} /*제휴사코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(inrtPdHclsfId)"><trim>
                   , #{inrtPdHclsfId} /*관심상품대분류ID*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(inrtPdMclsfId)"><trim>
                   , #{inrtPdMclsfId} /*관심상품중분류ID*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(inrtPdLclsfId)"><trim>
                   , #{inrtPdLclsfId} /*관심상품소분류ID*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(inrtPdDclsfId)"><trim>
                   , #{inrtPdDclsfId} /*관심상품세분류ID*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(inrtPdCd)"><trim>
                   , #{inrtPdCd} /*관심상품코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(pspcCstFtfYn)"><trim>
                   , #{pspcCstFtfYn} /*가망고객대면여부*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(vstAgDtm)"><trim>
                   , #{vstAgDtm} /*방문동의일시*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(alncCnslCponId)"><trim>
                   , #{alncCnslCponId} /*제휴상담쿠폰ID*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(cnslCponUseDtm)"><trim>
                   , #{cnslCponUseDtm} /*상담쿠폰사용일시*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(ichrAsnFshDtm)"><trim>
                   , #{ichrAsnFshDtm} /*담당배정완료일시*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(ichrPrtnrNo)"><trim>
                   , #{ichrPrtnrNo} /*담당파트너번호*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(cnslMoCn)"><trim>
                   , #{cnslMoCn} /*상담메모내용*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(cnslEvlDtm)"><trim>
                   , #{cnslEvlDtm} /*상담평가일시*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(cnslEvlPc)"><trim>
                   , #{cnslEvlPc} /*상담평가점수*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(cnslEvlRlyCn)"><trim>
                   , #{cnslEvlRlyCn} /*상담평가답변내용*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(pspcCstCnslRsCd)"><trim>
                   , #{pspcCstCnslRsCd} /*가망고객상담결과코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(ichrOgTpCd)"><trim>
                   , #{ichrOgTpCd} /*담당조직유형코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(cstNo)"><trim>
                   , #{cstNo} /*고객번호*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(cnslDtm)"><trim>
                   , #{cnslDtm} /*상담일시*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(sellInflwChnlDvCd)"><trim>
                   , #{sellInflwChnlDvCd} /*판매유입채널구분코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(inrtPdDvCd)"><trim>
                   , #{inrtPdDvCd} /*관심상품구분코드*/
               </trim></if>
        <include refid="COMMON.insertSystemFieldValue"/>
               )
    </insert>

    <insert id="insertPspcCstCnslRcmdIz">
        INSERT INTO TB_SSOP_PSPC_CST_CNSL_RCMD_IZ ( PSPC_CST_CNSL_ID /*가망고객상담ID*/
                                                  , PSPC_CST_CNSL_SN /*가망고객상담일련번호*/
                                                  <if test="@MybatisUtils@isNotEmpty(mbCstNo)"><trim>
                                                      , MB_CST_NO /*회원고객번호*/
                                                  </trim></if>
                                                  <if test="@MybatisUtils@isNotEmpty(pdCd)"><trim>
                                                      , PD_CD /*상품코드*/
                                                  </trim></if>
                                                  <if test="@MybatisUtils@isNotEmpty(cntrNo)"><trim>
                                                      , CNTR_NO /*계약번호*/
                                                  </trim></if>
                                                  <if test="@MybatisUtils@isNotEmpty(cntrSn)"><trim>
                                                      , CNTR_SN /*계약일련번호*/
                                                  </trim></if>
                                                  <if test="@MybatisUtils@isNotEmpty(cntrRcpFshDtm)"><trim>
                                                      , CNTR_RCP_FSH_DTM /*계약접수완료일시*/
                                                  </trim></if>
                                                  <if test="@MybatisUtils@isNotEmpty(trsYn)"><trim>
                                                      , TRS_YN /*전송여부*/
                                                  </trim></if>
        <include refid="COMMON.insertSystemField"/>
        )
        VALUES ( #{pspcCstCnslId} /*가망고객상담ID*/
               , #{pspcCstCnslSn} /*가망고객상담일련번호*/
               <if test="@MybatisUtils@isNotEmpty(mbCstNo)"><trim>
                   , #{mbCstNo} /*회원고객번호*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(pdCd)"><trim>
                   , #{pdCd} /*상품코드*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(cntrNo)"><trim>
                   , #{cntrNo} /*계약번호*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(cntrSn)"><trim>
                   , #{cntrSn} /*계약일련번호*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(cntrRcpFshDtm)"><trim>
                   , #{cntrRcpFshDtm} /*계약접수완료일시*/
               </trim></if>
               <if test="@MybatisUtils@isNotEmpty(trsYn)"><trim>
                   , #{trsYn} /*전송여부*/
               </trim></if>
        <include refid="COMMON.insertSystemFieldValue"/>
               )
    </insert>




</mapper>
