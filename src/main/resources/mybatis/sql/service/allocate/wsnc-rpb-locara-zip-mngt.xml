<?xml version="1.0" encoding="UTF-8"?>
<!---
 ****************************************************************************************************
 * 프로그램 개요
 ****************************************************************************************************
 1. 모듈 : SNC (배정관리)
 2. 프로그램 ID : W-SV-U-0036M01 AS 책임지역 우편번호 관리
 3. 작성자 : gs.piit130
 4. 작성일 : 2022.11.17
 ****************************************************************************************************
 * 프로그램 설명
 ****************************************************************************************************
 - 책임지역 우편번호 관리 (http://localhost:3000/#/service/wwsnc-responsibility-local-area-zip-mgt)
 ****************************************************************************************************
-->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kyowon.sms.wells.web.service.allocate.mapper.WsncRpbLocaraZipMngtMapper">

    <select id="selectRpbLocaraZips" resultType="com.kyowon.sms.wells.web.service.allocate.dvo.WsncRpbLocaraZipMngtDvo">
        SELECT A.NEW_ADR_ZIP
             , A.MGT_CNT
             , A.WRK_CNT
             , A.CTPV_NM
             , A.CTCTY_NM
             , A.LAWC_EMD_NM
             , A.AMTD_NM
             , A.LAWC_EMD_NM || ' / ' || A.AMTD_NM AS MNGT_AMTD
             , A.RPB_LOCARA_CD
             , A.RPB_LOCARA_GRP_CD
             , A.OG_NM
             , A.ICHR_PRTNR_NO
             , A.PRTNR_KNM
             , A.VST_DOW_VAL
          FROM
             (
               SELECT '01234' AS NEW_ADR_ZIP, '11' AS MGT_CNT, '11' AS WRK_CNT, '서울특별시' AS CTPV_NM, '도봉구' AS CTCTY_NM, '쌍문동' AS LAWC_EMD_NM, '쌍문동' AS AMTD_NM, '11320' AS RPB_LOCARA_CD, '10500' AS RPB_LOCARA_GRP_CD, '도봉점' AS OG_NM, 'A12345678' AS ICHR_PRTNR_NO, '오동동' AS PRTNR_KNM, '월' AS VST_DOW_VAL, 'N' AS DTA_DL_YN, '20220506' AS FNL_MDFC_DTM FROM DUAL UNION ALL
               SELECT '02233', '22', '22', '서울특별시', '강북구', '수유동', '수유동', '11305', '10300', '강북점', 'A22345678', '고길동', '토', 'N', '20221003' FROM DUAL UNION ALL
               SELECT '01531', '33', '35', '서울특별시', '도봉구', '쌍문동', '쌍문동', '11320', '10500', '도봉점', 'A32345678', '김길동', '금', 'N', '20210111' FROM DUAL UNION ALL
               SELECT '02122', '17', '8', '경기도', '장안구', '파장동', '파장동', '41111', '12900', '수원점', 'A92345678', '김갑순', '월화금', 'N', '20200219' FROM DUAL UNION ALL
               SELECT '02135', '11', '7', '경기도', '장안구', '율전동', '율전동', '41111', '13200', '수원점', 'A88345670', '이길순', '토', 'N', '20220209' FROM DUAL UNION ALL
               SELECT '01673', '15', '3.5', '충청북도', '상당구', '평천동', '평촌동', '43111', '12700', '청주점', 'D12345678', '홍길동', '월토', 'N', '20200512' FROM DUAL UNION ALL
               SELECT '01675', '13', '3.5', '충청북도', '상당구', '평천동', '평촌동', '43111', '12700', '청주점', 'D33345675', '나길동', '목금토', 'N', '20210709' FROM DUAL UNION ALL
               SELECT '01712', '8', '5.2', '충청남도', '예산군', '삽교읍', '삽교읍', '44810', '25323', '충남점', 'E13345675', '최길동', '목금토', 'N', '20210909' FROM DUAL UNION ALL
               SELECT '01856', '9', '3', '충청남도', '아산시', '송악면', '송악면', '44200', '31022', '충남점', 'E74345675', '김첨지', '월화목금', 'N', '20190303' FROM DUAL UNION ALL
               SELECT '03133', '15', '8', '부산광역시', '수영구', '광안2동', '광안2동', '26500', '10400', '수영점', 'B42345678', '김교원', '수토', 'N', '20210312' FROM DUAL UNION ALL
               SELECT '03271', '19', '17', '부산광역시', '수영구', '광안1동', '광안1동', '26500', '10400', '수영점', 'C42345678', '나교원', '월화수', 'N', '20201123' FROM DUAL UNION ALL
               SELECT '04124', '13', '6.5', '경상북도', '경주시', '노동동', '노동동', '47130', '10600', '경북점', 'F32345633', '노동원', '화수토', 'N', '20220126' FROM DUAL UNION ALL
               SELECT '04234', '7', '3', '경상북도', '경주시', '교동', '교동', '47130', '11000', '경북점', 'F55340011', '김동원', '월목금토', 'N', '20220715' FROM DUAL
             ) A
         WHERE 1 = 1
           AND A.DTA_DL_YN = 'N'
        <if test="@MybatisUtils@isNotEmpty(zipFrom)">
           AND A.NEW_ADR_ZIP &gt; #{zipFrom}
        </if>
        <if test="@MybatisUtils@isNotEmpty(zipTo)">
           AND A.NEW_ADR_ZIP &lt; #{zipTo}
        </if>
        <if test="@MybatisUtils@isNotEmpty(ctpvNm)">
           AND A.CTPV_NM = #{ctpvNm}
        </if>
        <if test="@MybatisUtils@isNotEmpty(ctctyNm)">
           AND A.CTCTY_NM = #{ctctyNm}
        </if>
         ORDER BY A.NEW_ADR_ZIP
    </select>

</mapper>
