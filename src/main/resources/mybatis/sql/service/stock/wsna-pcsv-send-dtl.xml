<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kyowon.sms.wells.web.service.stock.mapper.WsnaPcsvSendDtlMapper">
    <select id="selectOstAkNo" resultType="String">
        SELECT '400' || TO_CHAR(SYSDATE,'YYYYMMDD') || LPAD(SQ_SVPD_OSTR_AK_PCSV_SEND_DTL$OSTR_AK_NO.NEXTVAL,4,'0') AS OSTR_AK_NO
          FROM DUAL
    </select>
    <insert id="insertPcsvSendDtl">
        INSERT INTO TB_SVPD_OSTR_AK_PCSV_SEND_DTL (      /* 출고요청택배송신상세  */
               OSTR_AK_NO                    /* 출고요청번호 */
             , OSTR_AK_SN                    /* 출고요청일련번호 */
             , SPP_DV_CD                     /* 배송구분코드 */
             , CNTR_NO                       /* 계약번호 */
             , CNTR_SN                       /* 계약일련번호 */
             , ASN_OJ_YM                     /* 배정대상년월 */
             , NOTAK_FW_YN                   /* 알림톡발송여부 */
             , PCSV_OSTR_CNFM_YN             /* 택배출고확정여부 */
             , PCSV_OSTR_STAT_DV_CD          /* 택배출고상태구분코드 */
             , OSTR_AK_TP_CD                 /* 출고요청유형코드 */
             , OSTR_RQDT                     /* 출고요청일자 */
             , OSTR_HOP_DT                   /* 출고희망일자 */
             , IOST_AK_DV_CD                 /* 입출고요청구분코드 */
             , STR_OJ_WARE_MNGT_PRTNR_NO     /* 입고대상창고관리파트너번호 */
             , WARE_MNGT_PRTNR_OG_TP_CD      /* 창고관리파트너조직유형코드 */
             , SAP_IOST_TP_CD                /* SAP입출고유형코드 */
             , LGST_SPP_MTHD_CD              /* 물류배송방식코드 */
             , MDLV_PRTNR_NO                 /* 배달파트너번호 */
             , ITM_PD_CD                     /* 품목상품코드 */
             , OSTR_AK_QTY                   /* 출고요청수량 */
             , LGST_ITM_GD_CD                /* 물류품목등급코드 */
             , OSTR_OJ_WARE_NO               /* 출고대상창고번호 */
             , MPAC_SN                       /* 합포장일련번호 */
             , LGST_WK_MTHD_CD               /* 물류작업방식코드 */
             , OSTR_NO                       /* 출고번호 */
             , OSTR_SN                       /* 출고일련번호 */
             , OSTR_DT                       /* 출고일자 */
             , SPP_IVC_NO                    /* 배송송장번호 */
             , PD_BC_NO                      /* 상품바코드번호 */
             , CST_NO                        /* 고객번호 */
             , CST_NM                        /* 고객명 */
             , ADRS_TNO_VAL                  /* 수취인전화번호값 */
             , ADRS_CPHON_NO_VAL             /* 수취인휴대폰번호값 */
             , ZIP                           /* 우편번호 */
             , BAS_ADR                       /* 기본주소 */
             , DTL_ADR                       /* 상세주소 */
             , LTN_ADR                       /* 지번주소 */
             , PD_CN                         /* 상품내용 */
             , CNTR_BC_NO                    /* 계약바코드번호 */
             , CNTRT_NM                      /* 계약자명 */
             , PRTNR_KNM                     /* 파트너한글명 */
             , BOX_QTY                       /* 박스수량 */
             , P_VAL                         /* 포인트값 */
             , RMK_CN                        /* 비고내용 */
             , DTA_DL_YN                     /* 데이터삭제여부 */
             <include refid="COMMON.insertSystemField"/>)
        VALUES (
               /* OSTR_AK_NO                 */  #{ostrAkNo}
             , /* OSTR_AK_SN                 */  #{ostrAkSn}
             , /* SPP_DV_CD                  */  '1'
             , /* CNTR_NO                    */  #{cntrNo}
             , /* CNTR_SN                    */  #{cntrSn}
             , /* ASN_OJ_YM                  */  #{asnOjYm}
             , /* NOTAK_FW_YN                */  'N'
             , /* PCSV_OSTR_CNFM_YN          */  'Y'
             , /* PCSV_OSTR_STAT_DV_CD       */  'A3'
             , /* OSTR_AK_TP_CD              */  '400'
             , /* OSTR_RQDT                  */  #{ostrAkRgstDt}
             , /* OSTR_HOP_DT                */  #{ostrHopDt}
             , /* IOST_AK_DV_CD              */  #{iostAkDvCd}
             , /* STR_OJ_WARE_MNGT_PRTNR_NO  */  #{wareMngtPrtnrNo}
             , /* WARE_MNGT_PRTNR_OG_TP_CD   */  #{wareMngtPrtnrOgTpCd}
             , /* SAP_IOST_TP_CD             */  ''
             , /* LGST_SPP_MTHD_CD           */  #{lgstSppMthdCd}
             , /* MDLV_PRTNR_NO              */  ''
             , /* ITM_PD_CD                  */  #{itmPdCd}
             , /* OSTR_AK_QTY                */  ${ostrAkQty}
             , /* LGST_ITM_GD_CD             */  #{itmGdCd}
             , /* OSTR_OJ_WARE_NO            */  #{ostrOjWareNo}
             , /* MPAC_SN                    */  #{mpacSn}
             , /* LGST_WK_MTHD_CD            */  #{lgstWkMthdCd}
             , /* OSTR_NO                    */  ''
             , /* OSTR_SN                    */  ''
             , /* OSTR_DT                    */  ''
             , /* SPP_IVC_NO                 */  ''
             , /* PD_BC_NO                   */  ''
             , /* CST_NO                     */  #{cstNo}
             , /* CST_NM                     */  #{cstNm}
             , /* ADRS_TNO_VAL               */  #{adrsTnoVal}
             , /* ADRS_CPHON_NO_VAL          */  #{adrsCphonNoVal}
             , /* ZIP                        */  #{zip}
             , /* BAS_ADR                    */  #{basAdr}
             , /* DTL_ADR                    */  #{dtlAdr}
             , /* LTN_ADR                    */  ''
             , /* PD_CN                      */  #{pdCn}
             , /* CNTR_BC_NO                 */  ''
             , /* CNTRT_NM                   */  ''
             , /* PRTNR_KNM                  */  ''
             , /* BOX_QTY                    */  ''
             , /* P_VAL                      */  ''
             , /* RMK_CN                     */  ''
             , /* DTA_DL_YN                  */  'N'
             <include refid="COMMON.insertSystemFieldValue" /> )
    </insert>
</mapper>
