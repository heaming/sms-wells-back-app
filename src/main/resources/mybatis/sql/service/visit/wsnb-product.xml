<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kyowon.sms.wells.web.service.visit.mapper.WsnbProductMapper">

    <select id="selectProducts" resultType="com.kyowon.sms.wells.web.service.visit.dvo.WsnbProductDvo">
        SELECT 1 FROM DUAL
<!--        SELECT I1.CNTR_NO AS CNTR_NO-->
<!--             , I1.CST_SV_ASN_NO AS CST_SV_ASN_NO-->
<!--             , B1.PD_CD-->
<!--          FROM ( SELECT CNTR_NO AS CNTR_NO-->
<!--                      , CST_SV_ASN_NO AS CST_SV_ASN_NO-->
<!--                      , PD_CD AS PD_CD-->
<!--                      /*,  GET_DB2_ICDE(AC211_CSMR_YR, AC211_CSMR_CD , AC211_CSMR_SEQ) AS SALE_CD .... CNTR_NO,CNTR_SN 사용 AS SALE_CD*/-->
<!--                   FROM TB_SVPD_CST_SVAS_IST_OJ_IZ-->
<!--                  WHERE IN_CHNL_DV_CD   = '1'-->
<!--                    AND SV_BIZ_HCLSF_CD = '1'-->
<!--                    AND RCPDT LIKE TO_CHAR(SYSDATE, 'YYYYMMDD')||'%'-->
<!--                    AND MTR_STAT_CD    != '3'-->
<!--               ) I1-->
<!--         INNER JOIN TB_PDBS_PD_BAS B1-->
<!--            ON B1.SELL_TP_CD = I1.SALE_CD-->
<!--         WHERE I1.PD_CD != B1.PD_CD-->
    </select>

    <update id="updateAsInstallationAssign" >
        SELECT 1 FROM DUAL
<!--        UPDATE TB_SVPD_CST_SV_AS_IST_ASN_IZ-->
<!--           SET BFCH_PD_CD = #{pdCd}  /* TODO : col이랑 para 값 확정되면 수정 */-->
<!--         WHERE CNTR_NO    = #{cntrNo}  /* 조건 PK값 확인필요. */-->
<!--         WHERE CST_SV_ASN_NO = #{cstSvAsnNo}-->
    </update>
    <update id="updateAsInstallationObject">
        SELECT 1 FROM DUAL
<!--        UPDATE TB_SVPD_CST_SVAS_IST_OJ_IZ-->
<!--           SET PD_CD = #{pdCd}  /* TODO : col이랑 para 값 확정되면 수정 */-->
<!--         WHERE CNTR_NO       = #{cntrNo}-->
<!--           AND CST_SV_ASN_NO = #{cstSvAsnNo}-->
    </update>
</mapper>
